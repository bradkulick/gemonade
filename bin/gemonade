#!/bin/bash

# Gemonade: The Gemini CLI Persona Wrapper
# This is a thin wrapper around the Python Core (core/gemonade.py)

# 1. Resolve Path (Handles Symlinks)
SOURCE="${BASH_SOURCE[0]}"
while [ -h "$SOURCE" ]; do 
  DIR="$( cd -P "$( dirname "$SOURCE" )" >/dev/null 2>&1 && pwd )"
  SOURCE="$(readlink "$SOURCE")"
  [[ $SOURCE != /* ]] && SOURCE="$DIR/$SOURCE" 
done
GEMONADE_HOME="$( cd -P "$( dirname "$SOURCE" )/.." >/dev/null 2>&1 && pwd )"

# 2. Locate Python
# We use the system python3 to ensure the core CLI remains lightweight 
# and independent of the heavy "Advanced Memory" virtual environment.
PYTHON_CMD="python3"

# 3. Hand off to Python Core
exec "$PYTHON_CMD" "$GEMONADE_HOME/core/gemonade.py" "$@"
